@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

@layer base {
  :root {
    --background: hsl(0, 0%, 100%);
    --foreground: hsl(222.2, 84%, 4.9%);
    --card: hsl(0, 0%, 100%);
    --card-foreground: hsl(222.2, 84%, 4.9%);
    --popover: hsl(0, 0%, 100%);
    --popover-foreground: hsl(222.2, 84%, 4.9%);
    --primary: hsl(207, 69%, 40%);
    --primary-foreground: hsl(210, 40%, 98%);
    --secondary: hsl(210, 40%, 96%);
    --secondary-foreground: hsl(222.2, 84%, 4.9%);
    --muted: hsl(210, 40%, 96%);
    --muted-foreground: hsl(215.4, 16.3%, 46.9%);
    --accent: hsl(210, 40%, 96%);
    --accent-foreground: hsl(222.2, 84%, 4.9%);
    --destructive: hsl(0, 84.2%, 60.2%);
    --destructive-foreground: hsl(210, 40%, 98%);
    --border: hsl(214.3, 31.8%, 91.4%);
    --input: hsl(214.3, 31.8%, 91.4%);
    --ring: hsl(207, 69%, 40%);
    --radius: 0.5rem;
    
    /* Medical Theme Colors */
    --medical-blue: hsl(207, 69%, 40%);
    --health-green: hsl(123, 43%, 37%);
    --attention-orange: hsl(33, 100%, 48%);
    --alert-red: hsl(0, 68%, 50%);
    --success-green: hsl(120, 47%, 34%);
  }

  .dark {
    --background: hsl(222.2, 84%, 4.9%);
    --foreground: hsl(210, 40%, 98%);
    --card: hsl(222.2, 84%, 4.9%);
    --card-foreground: hsl(210, 40%, 98%);
    --popover: hsl(222.2, 84%, 4.9%);
    --popover-foreground: hsl(210, 40%, 98%);
    --primary: hsl(207, 69%, 50%);
    --primary-foreground: hsl(222.2, 84%, 4.9%);
    --secondary: hsl(217.2, 32.6%, 17.5%);
    --secondary-foreground: hsl(210, 40%, 98%);
    --muted: hsl(217.2, 32.6%, 17.5%);
    --muted-foreground: hsl(215, 20.2%, 65.1%);
    --accent: hsl(217.2, 32.6%, 17.5%);
    --accent-foreground: hsl(210, 40%, 98%);
    --destructive: hsl(0, 62.8%, 30.6%);
    --destructive-foreground: hsl(210, 40%, 98%);
    --border: hsl(217.2, 32.6%, 17.5%);
    --input: hsl(217.2, 32.6%, 17.5%);
    --ring: hsl(207, 69%, 50%);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Roboto', sans-serif;
  }
}

/* Medical theme utility classes */
.text-medical-blue {
  color: var(--medical-blue);
}

.bg-medical-blue {
  background-color: var(--medical-blue);
}

.border-medical-blue {
  border-color: var(--medical-blue);
}

.text-health-green {
  color: var(--health-green);
}

.bg-health-green {
  background-color: var(--health-green);
}

.text-attention-orange {
  color: var(--attention-orange);
}

.bg-attention-orange {
  background-color: var(--attention-orange);
}

.text-alert-red {
  color: var(--alert-red);
}

.bg-alert-red {
  background-color: var(--alert-red);
}

.text-success-green {
  color: var(--success-green);
}

.bg-success-green {
  background-color: var(--success-green);
}

/* Shared one-page A4 container */
.rx-print {
  width: 210mm;
  min-height: calc(297mm - 24mm);  /* 12mm top + 12mm bottom margins */
  padding: 10mm;                   /* inside the A4 box */
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
.rx-print .mt-auto { margin-top: auto !important; } /* pin footer to bottom */

@media print {
  @page { size: A4; margin: 12mm; }
  html, body { margin: 0; padding: 0; }
  body * { visibility: hidden; }

  /* Show ONLY whichever print node is mounted */
  #prescription-print, #prescription-print * { visibility: visible; }
  #lab-request-print, #lab-request-print * { visibility: visible; }
  #lab-report-print, #lab-report-print * { visibility: visible; }

  /* Position prescription to fill page */
  #prescription-print {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    width: 210mm !important;
    height: 297mm !important;
    page-break-after: avoid !important;
    page-break-before: avoid !important;
  }

  #lab-request-print,
  #lab-report-print {
    position: absolute; 
    inset: 0;
    overflow: hidden;                /* avoid spill causing page 2 */
    page-break-before: avoid;
    page-break-after: avoid;
  }

  .no-print { display: none !important; }
  .shadow-md, .shadow-lg { box-shadow: none !important; }
  .rounded-lg { border-radius: 0 !important; }
  .bg-gray-50 { background-color: white !important; }
}

/* Offline indicator animation */
.offline-indicator {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}
